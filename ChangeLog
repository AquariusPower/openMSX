$Id$

2002-02-05 Maarten ter Huurne <mth@stack.nl>
	* Added MSXMotherBoard::IRQHelper class.
	* Removed IRQ helper functionality from MSXDevice.

2002-02-04 Maarten ter Huurne <mth@stack.nl>
	* Took advantage of new raiseIRQ/lowerIRQ semantics in VDP.

2002-02-04 Maarten ter Huurne <mth@stack.nl>
	* Fixed bug where devices in non-expanded slots would only be
	  visible when subslot 0 was selected.
	* Implemented "slotselect" console command.

2002-02-03 Maarten ter Huurne <mth@stack.nl>
	* Implemented "slotmap" console command.
	* Console::printOnConsole now accepts multi-line texts.
	* Fixed buffer overrun in CON_Out.
	* Renamed DummyDevice's device name to "empty", which makes
	  more sense to the user (who sees it in the slotmap).

2002-02-03 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Removed class LoadFile: it was only used by MSXRom and it was only
	  usefull for that class (two classes merged now)

2002-02-02 Maarten ter Huurne <mth@stack.nl>
	* Implemented memory overlay behaviour in SCC page (0x3F).

2002-01-30 David Heremans <david.heremans@gnu-linux.net>
	* MSXTapePatch uses console:
	  Now possible to change or eject tapes using the console

2002-01-29 David Heremans <david.heremans@gnu-linux.net>
	* Console enhancements:
	  -calls CommandHelp when tabcomplition has
	  already found a complete command
	* DiskPatch can now reports problems with disks during
	  initialization:
	  This should help Maarten if he has a 'black screen' :-)

2002-01-28 Joost Yervante Damad <j.damad@qahwah.net>
	* made libxmlx an 'utility' library, this implies that
	  openmsx links this statically, which makes for easier
	  debugging, no more 'wrapper script' for now

2002-01-27 Joost Yervante Damad <j.damad@qahwah.net>
	* Made SDL console autotools enabled

2002-01-26 David Heremans <david.heremans@gnu-linux.net>
	* Console now usable:
	  - registered as ansynchron event listener
	  - Scheduler has now two commands registered

2002-01-26 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Fixed double delivery of syncronous events

2002-01-25 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Exception cleanups
	* Y8950 adpcm support (untested)

2002-01-24 Joost Yervante Damad <j.damad@qahwah.net>
	* added support for streamstring xml config per
	  request of David

2002-01-24 David Heremans <david.heremans@gnu-linux.net>
	* Altered SDL_Console:
		- C++-ed the code and files
		- dumped unwanted function
		- now registers objects from type ConsoleInterface
		  to use for callback instead of C-function pointers
	* Scheduler has now one (1) registered command with console:
		- press tab for autocomplete :-)
	* Added cartridge to help debug ARC protection cartridge
	* DummyDevice warns about unregistered I/O port calls

2002-01-22 David Heremans <david.heremans@gnu-linux.net>
	* Added an SDL_console:
	  Not usefull for the moment but you can toggle it with F10
	  No commands possible and double key registration but the
	  effect is "cool" :-)

2002-01-20 David Heremans <david.heremans@gnu-linux.net>
	* Added DSKFMT-implementationr:.
	  Formating of a 360kB dsk file doens't work. A 720kB dsk file
	  can be formated single or double sided.
	* Autofill of empty,newly generated .dskfiles:
	  No auto formating however, maybe later.

2002-01-19 Joost Yervante Damad <j.damad@qahwah.net>
	* openmsx now uses new config code
	* features:
		- supports multiple config files
		- it's possible to create alternative config backends
		- no more libxml++ *yipee*
		- uses libxmlx, right now still linked dynamically,
		  this means that ./openmsx is actually a libtool provided
		  script, soo for debugging use .libs/openmsx and alter
		  the LD_LIBRARY_PATH environment variable if needed
		- support for save not yet added, but it will be easy
	* xmlconfig raises exception on duplicate "id"

2002-01-12 Maarten ter Huurne <mth@stack.nl>
	* Compile fix for Thread class:
	  explicitly convert between Runnable pointer and void pointer.

2002-01-12 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* made a Thread class, interface is SDL independent,
	  implemenation uses SDL
	* made a Mutex class, analog as Thread
	* sync MSX-MUSIC and MSX-AUDIO on register write
	* made all sound related classes (except Mixer) SDL independent

2002-01-11 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Implemented RTC load/save on power on/off
	  (this is not the same as saveState)
	* Implemented FMPAC-SRAM load/save on power on/off

2002-01-10 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* MSXMemoryMapper <-> MSXMapperIO cleanup (thanks Maarten)

2002-01-10 David Heremans <david.heremans@gnu-linux.net>
	* Added FileOpener. This implements the needed routines to
	  support "rompaths". It also provides easy to use functions
	  to open files in the other devices.

2002-01-09 Maarten ter Huurne <mth@stack.nl>
	* VR resets one line before start of display.
	  Fixes Almost Real Copper Bars part.

2002-01-09 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Prepared CPU and Z80 class for inclusion of R800:
	   - moved as much code as possible from Z80 to CPU
	   - separated timimg dependent code from the rest of the code
	   - ugly "#inlude-hack" to avoid the overhead of virtual functions

2002-01-09 Maarten ter Huurne <mth@stack.nl>
	* Fixed MSXMemoryMapper so that it can handle over 64K of memory.

2002-01-08 Maarten ter Huurne <mth@stack.nl>
	* Red and green were swapped in Graphic7 rendering.
	* Apply planar reorder also on CPU reading VRAM and sprite checking.
	  Fixes Hydefos intro, all Graphic6/7 rendering should be OK now.

2002-01-08 Maarten ter Huurne <mth@stack.nl>
	* Preliminary Graphic6/7 rendering.
	  Works somewhat, but not in all cases.
	* Fixed transparency bug; Psycho World sky is blue again.

2002-01-07 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* DiskRomPatch cleanup: I wanted to fix the PHYDIO routine, but it
	  was already correct (the result in the B register). Maybe it is
	  now more obviously correct?

2002-01-07 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80: fixed HALT instruction (rounding error)
	* more #include cleanups
	* getCPURegs() interface cleanup

2002-01-06 Maarten ter Huurne <mth@stack.nl>
	* Implemented rendered line caching in bitmap modes (SDLHi).
	* Fixed GETDPB in MSXDiskRomPatch: uses static table based on passed
	  media descriptor instead using values from boot sector.

2002-01-06 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80: reverted buggy optimization,
	  fixes undeadline, track&field, flickering in space manbow

2002-01-06 Joost Yervante Damad <j.damad@qahwah.net>
	* small fixes
	* XMLConfig skeleton + some code

2002-01-06 Maarten ter Huurne <mth@stack.nl>
	* Text mode extra-wide border now drawn at once (SDLHi).

2002-01-05 Maarten ter Huurne <mth@stack.nl>
	* Implemented CC and IC bits of sprite mode 2.
	  Now OR-ed sprite patterns are rendered as they should.

2002-01-05 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* #include cleanup
	* Changed PSG mute routine:
	  PSG-samples in "time curb" now work!

2002-01-05 Joost Yervante Damad <j.damad@qahwah.net>
	* small libxmlx improvements
		- should handle comments and pcdata correctly
		- started modifications of msxconfig code, first in
		  a seperate temporarely program cfgtest, to avoid
		  hindering the other coders

2002-01-04 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Changed interaction Mixer-SoundDevice:
	  Mixer now calls the updateBuffer() method of each SoundDevice, even
	  if device is muted (device can update internal counter). If the
	  device was muted is must return a null-pointer.

2002-01-03 Maarten ter Huurne <mth@stack.nl>
	* SDLHiRenderer needs to sync on VRAM updates after all.
	  This solves the disappearing boss blocks of Knightmare stage 1.
	* The VDP (sprite checking) needs to sync on VRAM updates as well.
	  Hopefully this will solve the Knightmare stage 2 boss problem.

2002-01-03 Joost Yervante Damad <j.damad@qahwah.net>
	* libxmlx sync

2002-01-03 David Heremans <david.heremans@gnu-linux.net>
	* Improved tape support, tested with Time_Curb.cas file

2002-01-03 Maarten ter Huurne <mth@stack.nl>
	* Changed pause implementation in Scheduler to make it thread safe.
	* Fixed PAL timing in SDLHiRenderer.

2002-01-02 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* RealTime syncronizer improvements

2002-01-02 David Heremans <david.heremans@gnu-linux.net>
	* Added tape support, not yet tested
	* Restored old filesize behaviour in gamecartridge

2002-01-02 Maarten ter Huurne <mth@stack.nl>
	* Improved VDP accuracy.
	  Space Manbow still flashes, but less than before.

2001-12-31 Maarten ter Huurne <mth@stack.nl>
	* SDLHiRenderer uses double buffering.
	* Prepared SDLHiRenderer for RealTime sync, but if I enable it the
	  emulated MSX slows down (even though host CPU load remains low).
	* Added FDC values as patches to nms8250.xml, fixes disk ROM hang.

2001-12-31 Joost Yervante Damad <j.damad@qahwah.net>
	* lots of small C++ standard compliancy fixes
	* Z80Core.hh -> Z80Core.nn
	* more disk support, still partially works only
	* disk support now works completely, but not yet
	  for all programs [starquake, on mania036.dsk
	  works completely]
	* fixes for slotselection [thanks Maarten]

2001-12-31 Maarten ter Huurne <mth@stack.nl>
	* Render accuracy is now one line instead of one frame.
	* Implemented line interrupt (horizontal scanning interrupt).
	  Timing is still a bit off though.
	* Implemented horizontal display adjust (vertical not yet).
	* Implemented HR/VR status bits.
	* Prepared for caching of rendered lines in bitmap modes.
	* Command engine cleanups.

2001-12-30 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80: correct inter-instruction timing for DDCB and FDCB instrcutions,

2001-12-30 Joost Yervante Damad <j.damad@qahwah.net>
	* more disk support, it already works a little bit,
	  but the slot switching still needs to be added

2001-12-29 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Memory reads/writes can now be cached (if possible)
	  measured 10% - 20% performance gain
	  not completely finished, especially documentation

2001-12-29 Joost Yervante Damad <j.damad@qahwah.net>
	* synced in libxmlx skeleton [W.I.P.!]
	* header file include cleanup, this should avoid alot
	  of useless recompilation

2001-12-27 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Scheduler now uses a heap instead of sorted set
	* SyncPoints can now be removed
	* SyncPoints take an optional userData parameter, this parameter
	  is later passed to executeUntilEmuTime() method
	* MSXDevice does not inherit from Schedulable anymore, devices that
	  still need to be Schedulable must inherit itself from Schedulable
	  (eg VDP)

2001-12-26 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added getCPURegs() and setCPURegs() methods in class CPU

2001-12-25 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* small optimization in Scheduler:
	  no overhead when unpaused

2001-12-25 Joost Yervante Damad <j.damad@qahwah.net>
	* added --enable-profile and --enable-release to ./configure
	* added "debug" and "nodebug" targets to Makefile in src dir [toggle]
	  usage: "make debug" turns on debug for this and next makes
	         "make nodebug" turns it of again

2001-12-24 Maarten ter Huurne <mth@stack.nl>
	* Added "unsigned" to uint64 definition in Scheduler.
	  Before, Scheduler::INFINITY was -1.
	* Implemented PAL at 50Hz and NTSC at 60Hz.
	* Restructured VDP timing routines.

2001-12-24 Maarten ter Huurne <mth@stack.nl>
	* Added render routine for Graphic4 mode.
	* Added support for 212 lines display.
	* Added partial sprite mode 2 implementation.

2001-12-24 Maarten ter Huurne <mth@stack.nl>
	* Added render routine for Graphic5 mode.
	* Added support for transparency control (R#8 bit 5).

2001-12-24 Maarten ter Huurne <mth@stack.nl>
	* Finished integration of command engine.
	  It runs, but without render routines for the bitmap modes,
	  it is not possible to visually check the results.

2001-12-23 Maarten ter Huurne <mth@stack.nl>
	* Fixed a design flaw in the Renderer interface.
	  The update methods were called *after* the changed VDP state
	  became effective. That way, delayed rendering operations cannot
	  be completed because the old VDP state is no longer available.
	  In the new interface, update methods are called *before* the
	  new state becomes effective. So the old values can be retrieved
	  from the VDP, while the new values are passed as parameters
	  of the update method.

2001-12-22 Maarten ter Huurne <mth@stack.nl>
	* Fixed dirty check bugs.
	  The "inside name/colour/pattern table" checks were wrong:
	  too much was considered inside, therefore too many characters
	  were considered dirty.
	  Also the attempt to make Text2 use the same dirty checking code
	  as the MSX1 display modes failed, instead I wrote different
	  dirty checkers for different display modes. This was bound to
	  happen in the future anyway, because bitmap modes will require
	  different dirty checks than pattern modes.

2001-12-22 Maarten ter Huurne <mth@stack.nl>
	* Added VDP Command Engine 1.0 from Alex Wulms.
	  Adapted the code to C++ and to openMSX conventions.
	  Only functional change is SCREEN7/8 pixel lookups (two defines).
	  The command engine compiles and links, but cannot run yet.

2001-12-21 Maarten ter Huurne <mth@stack.nl>
	* Implemented Text2 display mode (SCREEN0.80).
	* Prepared for blinking (not finished yet).

2001-12-21 Maarten ter Huurne <mth@stack.nl>
	* Applied gamma correction to V9938/58 palette.
	  My guess is that the gamma of MSX and PC monitors is slightly
	  different; the palette precalc now compensates for that.

2001-12-21 Maarten ter Huurne <mth@stack.nl>
	* Implemented palette feature of V9938/58.
	  Can be seen by running Nemesis 3 using NMS8250 config.

2001-12-21 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Fixed uninitialized variable in RP5C01:
	  this caused a delay of several seconds at start-up

2001-12-20 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added MSX-AUDIO: no ADPCM yet, not optimized
	* LoadFile and MSXGameCartridge cleanup

2001-12-19 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Removed more indirections from YM2413

2001-12-18 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixed CassettePort: 
	  exceptions don't work if you compile with -fno-rtti, removed it

2001-12-18 David Heremans <david.heremans@gnu-linux.net>
	* MapperType guesser can be turned on/off
	* MapperType now configurable in MSXGameCartrdige.
	* Integrated MSXKonamiSynthesizer into MSXGameCartrdige.

2001-12-14 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* sound on/off (F11) and pause (PAUSE) now work together
	* fixed "pure virtual function called" error

2001-12-16 David Heremans <david.heremans@gnu-linux.net>
	* Extende LoadFile to autodetermine file-size.
	* Renamed MSXMegaRom to MSXGameCartrdige.
	* MSXGameCartridge can now handle smaller game roms (<= 64kB)

2001-12-15 David Heremans <david.heremans@gnu-linux.net>
	* Added volume to the SCC.
	* Used F11 as HotKey to sound on/off:

2001-12-14 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Fixed DACSound, KeyClick now works

2001-12-11 Maarten ter Huurne <mth@stack.nl>
	* Optimised MSX-MUSIC mixing.
	* Removed indirection on ch array ("Channel *" -> "Channel).

2001-12-12 David Heremans <david.heremans@gnu-linux.net>
	* Added the SCC+ cartridge

2001-12-12 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Cleanup MSXMusic / MSXFmPac:
	   "CALL FMPAC" now works!

2001-12-11 Maarten ter Huurne <mth@stack.nl>
	* Compacted the SCC mixing and muting code.
	* Added offset to lookups in SCC::getFreqVol.
	* SCC::ch_enable is not masked upon write.
	* Added "currentChipMode = chip" to SCC::setChipMode.
	* Changed size of waveform array to 32 (was 64).

2001-12-10 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Implemented Z80 inter-instruction-timing
	   (DD CB instructions not correct yet)

2001-12-11 David Heremans
	* uploaded SCC soundchip:
	  This chip can emulate the SCC hardware in the 3 know modes
	   - Real SCC
	   - SCC+ cartridge in SCC compatible mode
	   - SCC+ cartridge in SCC+ mode
	* Changed MegaRom:
	  Megarom of type 2 know use the SCC soundchip.

2001-12-10 Maarten ter Huurne <mth@stack.nl>
	* Implemented indirect register write for V9938/58.
	* V9938/58 can now have 16K, 64K or 128K of VRAM.
	* Upgraded CPU interface to read/write more than 16K of VRAM.
	* Changed video mode naming scheme to match V9938 data book.

2001-12-10 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Cleanups in MSXMemoryMapper, requires config file change
	* More config file changes:
	    PSG   -> volume parameter
	    MUSIC -> volume parameter
	    PPI   -> volume parameter
	          -> key_ghosting parameter
	    Mixer -> frequency parameter
	          -> samples parameter
	* RealTime cleanups:
	   - MSXRealTime renamed to RealTime
	   - RealTime is no longer a MSXDevice
	   - moved parameters to config file

2001-12-09 Maarten ter Huurne <mth@stack.nl>
	* Faked enough V9938 features to make nms8250.xml boot.

2001-12-09 Maarten ter Huurne <mth@stack.nl>
	* Fixed compilation with Z80DEBUG enabled.
	* Fixed single-width pixels in SCREEN0 in SDLHiRenderer.
	* Re-enabled resetting of dirty flags at end-of-frame.
	  This was probably disabled during debugging and accidentally
	  commited to CVS.

2001-12-09 Maarten ter Huurne <mth@stack.nl>
	* Introduced VDP class, which will replace MSXTMS9928a.

2001-12-09 Joost Yervante Damad <j.damad@qahwah.net>
	* Rom Patching Code skeleton
	* MSXDiskRomPatch skeleton

2001-12-09 Maarten ter Huurne <mth@stack.nl>
	* Fixed uninitialised struct field in SDLLoRenderer.
	* SDLHiRenderer renders doubled pixels now.

2001-12-09 Maarten ter Huurne <mth@stack.nl>
	* Introduced SDLHiRenderer.
	  Opens 640x480 screen, although it still renders low-res.
	* Changed configuration:
	  - new category: "renderer"
	    type selects renderer: "SDLLo" or "SDLHi"
	  - "fullscreen" moved to "renderer" and renamed "full_screen"
	    plus it's an actual boolean now
	  - new parameter: "limit_sprites" in "msx1vdp"
	* Setting "limit_sprites" to false actually works now.

2001-12-08 Maarten ter Huurne <mth@stack.nl>
	* Improved Doxygen comments in MSXTMS9928a and Renderer.
	* Small optimisations in sprite rendering.
	* Renamed XPal to Pal: it hasn't been X for quite some time.
	* Introduced sprite buffering: VDP stores sprite info for one
	  frame, so Renderer can retrieve it on demand. This removes
	  the need for the Renderer to call checkSprites, making the
	  VDP behaviour completely independant of the Renderer used.

2001-12-08 Joost Yervante Damad <j.damad@qahwah.net>
	* Loadfile now handles patching of files

2001-12-08 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added several missing reset() calls

2001-12-07 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* MSXPPI is no longer a singleton

2001-12-06 Maarten ter Huurne <mth@stack.nl>
	* Small initialisation fix in MSXTMS9928a.
	  Thanks to Wouter for spotting the problem.

2001-12-06 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* removed init() method from MSXDevice:
	  initialization should be done in the constructor
	* all MSXDevice constructors (former init() methods) now take an
	  EmuTime parameter

2001-12-05 Joost Yervante Damad <j.damad@qahwah.net>
	* MSXRom continued [reworked, no longer inherited from MSXDevice]

2001-12-05 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Made MSXIODevice and MSXMemDevice both subclasses of MSXDevice:
	  these 2 classes take functionality away from MSXDevice and put it
	  in more specialized classes. They also offer things like automatic
	  slot-registration (and in the future automatic IO-registration)
	* removed start() and stop() methods from MSXDevice
	* reset() method in MSXDevice now takes an EmuTime argument

2001-12-04 Joost Yervante Damad <j.damad@qahwah.net>
	* added MSXRom subclass and LoadFile mixin, as first step
	  towards ROM patching support

2001-12-04 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* correct use of register 0x7ff6 for MSX-MUSIC
	* MSXMotherBoard is no longer a MSXDevice

2001-12-03 Joost Yervante Damad <j.damad@qahwah.net>
	* fixed Config *getConfigById(const std::string &type)
	* started on disk support "level 2" [not in CVS yet]

2001-12-03 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Made a new EmuTime class (for details search mailarchives for
	   "[RFC] new EmuTiem class"). This gave a large performance gain,
	   more than I had hoped for.
	* SoundDevices now unregister themself before destruction

2001-12-02 Maarten ter Huurne <mth@stack.nl>
	* Integrated name/pattern/colour table base addresses and mask
	  into a single mask. This is probably how the hardware does it.
	* Fixed dirty checks.
	  King's Valley 2 is now actually fixed, blanking just happened
	  to make the problem go away without fixing the bug causing it.
	* Moved to "pull" model for VDP - Renderer communication:
	  VDP sends update signals when parts of its state change,
	  Renderer can get current state from VDP at all times.

2001-12-02 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixed pause:
	   - <F12> now works when paused
	   - after pause emulation isn't too fast
	* correct inline in Z80
	* MSXMegaRom cleanup, minor speedup

2001-12-01 Maarten ter Huurne <mth@stack.nl>
	* Fixed compile error in CassettePlayer.cc:
	  PRT_ERROR contains exit(), which needs <stdlib.h>.

2001-12-01 Maarten ter Huurne <mth@stack.nl>
	* Fixed bug which caused Z80 to fail when methods were not inlined.
	  Problem was that ld_xix_byte() and ld_xiy_byte() called Z80_WRMEM
	  with two parameters, each of which read an opcode, an operation
	  which increases the program counter. This is wrong because the
	  evaluation order of parameters is not guaranteed.

2001-12-01 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added FM-PAC
	* MSXMotherBoard is now also a CPUInterface, this eliminates one
	  indirection in readMem()-like methods but these get called a few
	  100 000 times a second. I measured 10%-20% performance gain

2001-11-30 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* made a helper function registerSlots()
	* made a helper function loadFile()
	   note: config file format changed!

2001-11-29 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Added a CassettePlayer (no record function yet)
	  A CassettePlayer must be plugged into the CassettePort and
	  you must insert a tape (= .wav file) into the CassettePlayer
	  Currently you can't do either of these operations.

2001-11-27 Maarten ter Huurne <mth@stack.nl>
	* Added updateBlanking to Renderer interface.
	  Fixes redraw problem in King's Valley 2.
	* Various cleanups in MSXTMS9928a and SDLLoRenderer.

2001-11-26 Maarten ter Huurne <mth@stack.nl>
	* Introduced SpriteInfo in MSXTMS9928a, this is a prelude to
	  sprite info buffering (separating calculation time from
	  rendering time).
	* Introduced VdpVersion enum in MSXTMS9928a.

2001-11-20 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Small CassettePort update, implemented very primitive filter

2001-11-25 Maarten ter Huurne <mth@stack.nl>
	* Sprites are now rendered in the screen buffer rather than in the
	  display cache (which replaced "canvas"). As a result, sprite drawing
	  code became simpler and the display cache needs less updates.

2001-11-25 Maarten ter Huurne <mth@stack.nl>
	* Render on demand:
	  New Renderer can render as many lines as requested.
	  Many lines at once has lower overhead, but if necessary it
	  can still render one line at a time.
	  This code can be converted to pixel-precision rendering that
	  has decent performance.
	* All change tracking (dirty flags etc) is moved to Renderer.
	* Interface between VDP and Renderer is much cleaner now.
	  (no more public fields)
	* Got rid of "tms" struct.

2001-11-20 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added basic support for CassettePort
	   - CassettePort has no filters yet
	   - no output (record) yet
	   - !! no CassttePlayer (must be plugged in a CassettePort) !!

2001-11-18 Maarten ter Huurne <mth@stack.nl>
	* The drawing area (now called "canvas") is now an off-screen SDL
	  surface instead of a pixel array. SDL calls are for blitting and
	  drawing empty lines (top and bottom border).
	* Cleanup of change tracking in VDP.
	* Cleanup of Renderer access to VDP state:
	  public fields replaced by inline methods.
	* Cleanup of VDP fields: slowly getting rid of "tms" struct.

2001-11-18 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* updated KeyEventInserter, it works now but it is not yet useable,
	  needs to read text from config file or something

2001-11-17 Maarten ter Huurne <mth@stack.nl>
	* MSXTMS9928a and SDLLoRenderer respect SIZEOF_BOOL now.
	* Introduced Renderer: pure abstract superclass to all renderers.
	* Changed SDLLoRenderer into a template class.
	  All supported colour depths are compiled in.
	  A factory method selects a suitable colour depth automatically.

2001-11-17 Joost Yervante Damad <j.damad@qahwah.net>
	* added sizeof(bool) autoconf macro
	* rearranged configure.in to avoid problems
	  with simple checks being confused by the extra
	  CXXFLAGS and libs

2001-11-17 Maarten ter Huurne <mth@stack.nl>
	* SDLRenderer is now SDLLoRenderer (low-res: 320x240) and
	  was given its own files.
	  Also removed MESS history comments from MSXTMS9928a.

2001-11-16 Maarten ter Huurne <mth@stack.nl>
	* Split off SDLRenderer from MSXTMS9928a.
	  This makes it easier to support different renderers
	  (320x240, 640x480, 8/16/32bpp).
	  In the near future SDLRenderer will get its own file.

2001-11-16 Maarten ter Huurne <mth@stack.nl>
	* Disabled 512K mapper in cfg/someconfig.xml because it conflicted
	  with the MegaROM.

2001-11-16 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* cleanup EventDistributor/HotKey

2001-11-15 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80: interrupt state is only checked right after a sync point
	       halt now "burns" CPU cycles
	    --> large CPU speedup

2001-11-14 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* an MSXDevice is now associated with an MSXConfig object as soon as
	  it is instantiated. Before this change it was possible that a
	  MSXDevice (mostly singletons) was used before it could access its
	  parameters.
	* AY8910: fixed uninitialized variables

2001-11-13 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixed HotKey: method find() returns a normal iterator, not an
	   iterator that goes over elements that match the search criteria

2001-11-13 David Heremans
	* openMSX now stops when using the WM close button:
	* Correct close behaviour:
	    Set a sync point so that if the CPU is scheduled until
	    infinite we still can stop openMSX.
	    Wouter will look into the HotKey event distribution,
	    it is temporarly fixed using if comands.


2001-11-09 David Heremans
	* quickly add a fullscreen flag in the TMS code:
	    extra parameter in config.xml file
	    use PrintScreen key to togle
	* openMSX now stops when pressing F12:
	    however make sure that openMSx is full screen when you press F12

2001-11-07 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* reworked CPU related classes:
	    much simpler structure
	    more optimizations possible in the future
	* Z80: correct wait-state handling

2001-11-05 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80: undocumented instructions like "res 4,(ix+5),b" implemented
	* Z80: correct(?) timing for undocumented instructions

2001-11-04 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80 cleanup/fixes:
	  fixed DAA instruction, bug in Penguin Adventure should be fixed now
	  correct 'undocumented-flag-handling' for most instruction

2001-10-31 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixed bug in Z80, some instruction had a negative T-State count!!
	  Road Fighter works again

2001-10-30 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added MSX-MUSIC, code largly taken from Mitsutaka Okazaki
		http://www.angel.ne.jp/~okazaki/ym2413/
	  no "suspend" function yet

2001-10-29 Joost Yervante Damad <j.damad@qahwah.net>
	* finished migration of CVS and mailinglists to sf.net
	* thank you sourceforge team!!
	* http://openmsx.sf.net

2001-10-27 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixes, improvements to DACSound (untested)
	* updated KeyClick, the "click too short" problem should be solved now
	  KeyClick now uses a DACSound object to play sound, playing samples
	  on KeyClick should also be possible now (untested)
	* pause sound while pause emulation
	* SoundDevices default now to muted after creation, fixes a race in
	  Mixer::registerSound()

2001-10-25 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* SoundDevices can now mute themselves, mixer doesn't ask
	  for soundbuffer of muted devices
	* added KeyClick support, PPI had to be made time aware for this
	  doesn't work very well yet because a typical key-click-spike
	  takes about 34us which is shorter than the duration of 1 sample

2001-10-23 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* make DACSound compile again (doesn't work yet)
	* add HotKey service
	* openMSX can be paused (pause key), added to demonstrate the
	  use of HotKey. Problems with current pause implementation:
	    - sound must also be paused
	    - realtime keeps running, so after unpausing openMSX 
	      tries to catch up and runs too fast for a while
	* MSXKanji now supports both class 1 as class 2 Kanji
	* Added MSXPrinterPort and DummyPrinterPortDevice (= no device
	  connected)

2001-10-22 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Changed Mixer and SoundDevice interface (David's request).
	  Now each SoundDevice must do its own buffer-managment, this gives
	  more flexibility to devices like DAC's

2001-10-21 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* small performance improvement in MSXZ80

2001-10-21 Joost Yervante Damad <j.damad@qahwah.net>
	* added some basic conversions to MSXConfig##Device
	  let me know when more are needed
	* updated msxconfig.dtd to reflect soon te be added
	  non-device configuration entries
	* added support for non-device configuration entries
	  this is not thoroughly tested, but should work

2001-10-19 Joost Yervante Damad <j.damad@qahwah.net>
	* started TODO file to collect ideas/things todo

2001-10-19 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* documented SoundDevice interface on David's request
	* RP5C01 can now optionally sync with host-clock, but this 
	  limitates some functionality

2001-10-18 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* implemented test register in RP5C01,
	  corrected 12/24 hour mode, month-wrap-bug fixed
	* RP5C01 is now emutime synced instead of realtime

2001-10-17 Joost Yervante Damad <j.damad@qahwah.net>
	* added src/cfg dir for storing config file templates
	* started in KeyEventInserter

2001-10-17 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* made improvements to MSXRealtime
	* small fixes to MemoryMapper, E6Timer
	* improvements to RP5C01 (RTC)

2001-10-16 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixed bug in Keyboard (uninitialized variable)
	  and made minor performance improvement in keyGhosting
	* add 1 extra waitState after each instruction
	* Corrected MSXRealTime, speed is now correct. Deviation was
	  caused by accumulation of rounding errors. 

2001-10-15 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Scheduler can now schedule "Schedulable" objects instead of
	  only MSXDevices, this is necessary for sub-device scheduling
	  (e.g. counters in I8254

2001-10-15 Marcel Harkema <marcel@qahwah.net>
	* * Set the MAINTAINERCLEANFILES variable in Makefile.am files
	  (for make maintainer-clean)
	* * EventDistributor.hh should include <map> and not <multimap.h>
	  (which is an internal header file)
	* * Add {XML,SDL}_CFLAGS, {XML,SDL}_LIBS, etc. to CXXFLAGS and
	  LIBS in configure.in (and remove openmsx_LDADD line from
	  src/Makefile.am)
	* Include <cassert>, <cstdio>, etc. instead of <assert.h>, 
	  <stdio.h>, .. [I might have missed some... please check your
	  code]
	* [patch applied by joost]

2001-10-14 Joost Yervante Damad <j.damad@qahwah.net>
	* Made EmuTime printable [read streamable] for David

2001-10-12 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Simplified MSXRealTime implementation

2001-10-11 David Heremans <david.heremans@gnu-linux.net>
	* MSXTMS9928a and MSXRealTime updates

2001-10-08 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* update parts of audio-buffer when registers have changed
	* fixed tone generation in AY8910 (overflow in calculation)

2001-10-09 Joost Yervante Damad <j.damad@qahwah.net>
	* removed all automake/autoconf utility files,
	  use autogen.sh to install them locally

2001-10-08 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added a real time synchronizer (MSXRealTime)
	* fixed keyGhosting bugs in Keyboard

2001-10-07 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* renamed Inputs --> Keyboard
	* forgot to initialize keyboard matrix
	* moved method keyGhosting() from MSXPPI to Keyboard
	  --> method is now only called when 
	        * keymatrix has changed and
	        * keymatrix is read
	* extended Mixer to support (pseudo)stereo

2001-10-05 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Made a very simple mixer, made AY8910 register itself as 
	  sound generator.

2001-10-03 Joost Yervante Damad <j.damad@qahwah.net>
	* updated automake utility files

2001-10-03 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* "static const int -> enum" cleanup
	* Reworked EventDistributor, it is now possible to deliver events
	  synchronously and asynchronously. This makes the EventDistributor
	  more complex, but it eliminates locking problems in synchronous
	  ( = almost all) client code.

2001-10-02 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* made Philips mapper-IO behaviour
	* read mapper behaviour from config file, this needed some
	  restructuring in MapperIO and related classes
	* Fixed TurboR ST mapperIO

2001-10-01 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80 converted to a C++ class, still needs cleanups
	* IRQ handling cleanup

2001-09-30 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* second part of Z80 cleanup 

2001-09-27 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* #define -> static const int   cleanup
	* first part of Z80 cleanup

2001-09-26 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* reimplemented Scheduler, total new algorithm
	* made some changes to cpu-device's
	  these need some cleanup, especially the c/c++ mix (Z80)

2001-09-25 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* added locking to class EventDistributor (maybe std::multimap is
	  thread-safe and no locking is necessary)
	* added locking to class Mouse, there was a small race that could cause
	  some mouse-movement-glitches

2001-09-24 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* implemented Real Time Clock device
	* implemented joystick support. Cannot be used yet since there is no
	  mechanism to plug a Joystick in a joystickPort yet (dynamically nor
	  statically)
	* implemented mouse support. Cannot be used yet, same reason as above

2001-09-23 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* made sperate thread for event handler
	  other classes can ask EventDistributor to receive specific events
	* adapted Inputs for new event model
	* respond to SDL_QUIT event

2001-09-23 Joost Yervante Damad <j.damad@qahwah.net>
	*  various small fixes
	* started working on making the code work with gcc-3.0
	* added autogen.sh: use to regenerate build files
	* added m4/ dir for own autoconf m4 macros
	* added fstream_templ.m4, since in gcc-3.0 ifstream
	  is templatized on type, and .read() returns char,
	  not unsigned char, soo this needs ifstream<byte> in
	  openmsx, but in gcc-2.95 ifstream is not a template.
	* added -fno-rtti to compile-flags since we don't use
	  runtime type inspection anyway, and it increases binary size
	  see also: http://gcc.gnu.org/ml/gcc-help/2000-03/msg00064.html

2001-09-22 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* cleanups in most devices
	* small bug fixes in some devices
	* Implemented memory mapper
	  all mappers share one MapperIO device
	  reading from mapper ports can be customized

2001-09-21 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* Z80/R800 separation cleaned up:
	  only the class MSXCPU knows there are 2 CPU's, all other devices
	  should talk to MSXCPU instead of MSXZ80 or MSXR800 (nor ask
	  MSXMotherBoard which CPU to talk to)
	  Removed some code marked as "ugly hack"
	* added support for Kanji ROM
	* cleanups in MSXRom16KB 

2001-09-19 Joost Yervante Damad <j.damad@qahwah.net>
	* various small fixes around the code
	* the 16k rom still needs a C++ makeover

2001-09-17 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* implemented kana/code led
	* implemented joystick-ports. This is only the port, not the devices
	  that can be plugged into the port (joystick, mouse, ...)
	* interupt handling was seriously broken (CPU jumped to 0x38 at every
	  di->ei transition even when there was no device that had raised an IRQ)
	  Fixed now (I think). Also moved interrupt related methods from class
	  Scheduler to class MSXMotherBoard.

2001-09-16 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* implemented sound generation for PSG (code taken from xmame-0.37b)
	  mixer is not finished, so you won't hear anything yet

2001-09-16 Joost Yervante Damad <j.damad@qahwah.net>
	* added endian-ness check to configure.in
	* removed -DLDB_FIRST, and made it dependant on
	  configure result
	* added sizeof long autoconf check, to make Z80.cc
	  also work correctly on 64 bit and 128 bit cpu's [untested]

2001-09-15 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* started implemention of MSXPSG (no sound generation yet)

2001-09-15 Joost Yervante Damad <j.damad@qahwah.net>
	* reworked msxconfig.cc by using the xmlhelper
	* xmlhelper is a simplified xml interface

2001-09-13 Joost Yervante Damad <j.damad@qahwah.net>
	* added xmlhelper class, which I will start using
	  to make xmlconfig code cleaner
	* made msxconfig more standards-compliant

2001-09-10 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* removed double initialization
	* CPU is no longer a special case with initialization
	* fixed various bugs
	* made Inputs independent from MSXPPI
	* implemented CAPS LED + support for all other LEDs

2001-09-09 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* print more usefull debug messages
	* use DummyDevice instead of the general MSXDevice for all the
	  emptyDevice's
	* registering SP must be done by Scheduler, not Motherboard

2001-09-08 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* some fixes (yesterday discussed with Davy)

2001-09-06 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* fixed a few classes to make them compile again
	* made some minor addition to emutime

2001-09-05 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* print debug information only if compiled for debugging

2001-09-05 David Heremans <david.heremans@gnu-linux.net>
	* sync : PPI, Z80, ...
	* Z80 should be completely correct now
	* started integrating SDL keys
	* VDP integration Sean's code started
	* subslot selecting and mainslot selecting imped
	* MSXMotherboard slotlayout filled with dummy
	  empty devices to avoid 0-pointers

2001-09-03 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* In class Scheduler, use "set" instead of "list" or "sortedlist"
	* Split MSXPPI in a MSX depended part and a reuseable 8255 part

2001-08-27 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* made a more complete PPI implementation
	* made new device: E6Timer (TurboR)

2001-08-26 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* removed linkedlist.hh and use stl list instead
	* made template SortedList and use it in Scheduler
	  this compiles, but does not link yet

2001-08-25 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>
	* updated class Emutime
	* make use of emutime 

2001-08-23 Joost Yervante Damad <j.damad@qahwah.net>
	* msxconfig: added <desc> and <rem>
	* msxconfig.hh: externalized nested classes
	* msxconfig: started saveFile support

2001-08-10 David Heremans <david.heremans@gnu-linux.net>
	* sync : PPI, Z80, ...

2001-08-09 Joost Yervante Damad <j.damad@qahwah.net>
	* reworked msxconfig code, now more C++
	* added support for multiple slotted's

2001-07-07 Joost Yervante Damad <j.damad@qahwah.net>

	* added class property to <parameter> tag in msxconfig
	* also slightly reworked that code
	* bumbed version to 0.1.1
	* added SDL auto* support

2001-07-06 Joost Yervante Damad <j.damad@qahwah.net>

	* merge David's code in CVS
	  this includes: PPI, Z80, RomDevice, Motherboard, ...

2001-06-26 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>

	* more updates tex docu file

2001-06-23 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>

	* more updates tex docu file

2001-06-23 Joost Yervante Damad <j.damad@qahwah.net>

	* finished readonly MSXConfig interface

2001-06-22 Joost Yervante Damad <j.damad@qahwah.net>

	* added MSXException exception base class.
	* created MSXConfig exceptions
	* started using them.
	* make distcheck now works
	* openmsx.tex is part of the dist

2001-06-21 Joost Yervante Damad <j.damad@qahwah.net>

	* made MSXConfig code -> this code needs serious cleaning
	  later ! :)

2001-06-21 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>

	* updated tex docu file

2001-06-20 Joost Yervante Damad <j.damad@qahwah.net>

	* initial MSXConfig interface/singleton skeleton
	* first touch with libxml++
	* links smoothly now with libxml++ and libxml
	* !!warning!! needs libxml++ version 0.13 (debian ships with 0.10)
	* see also http://lusis.org/~ari/xml++/

2001-06-21 Wouter Vermaelen <wouter.vermaelen@student.kuleuven.ac.be>

	* created tex docu file

2001-06-19 Joost Yervante Damad <j.damad@qahwah.net>

	* added autoconf support for libxml
	* added some $Id magic tags

2001-06-18 Joost Yervante Damad <j.damad@qahwah.net>

	* Emutime tweaks as per Wouter and David

2001-06-16 Joost Yervante Damad <j.damad@qahwah.net>

	* added autoconf support for libxml++
	* various small tweaks

2001-05-06  Joost Yervante Damad <j.damad@qahwah.net>

	* made a nice and clean CVS/automake/autoconf/libtool
	* restructured source
	* versioned files

2001-05-04  David Heremans  <david.heremans@gnu-linux.net>

	* openmsx: initial version.

