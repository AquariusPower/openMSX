# $Id$
# Generates version include file.

from version import extractRevision, packageVersion, releaseFlag

import sys

def iterVersionInclude():
	revision = extractRevision()

	yield '// Automatically generated by build process.'
	yield 'const bool Version::RELEASE = %s;' % str(releaseFlag).lower()
	yield 'const std::string Version::VERSION = "%s";' % packageVersion
	yield 'const std::string Version::REVISION = "%s";' % revision

if len(sys.argv) == 1:
	for line in iterVersionInclude():
		print line
else:
	print >>sys.stderr, \
		'Usage: python version2code.py'
	sys.exit(2)
